<h2>Appointment</h2>

<!-- ZM: We should not be using params in the views either  -->
<form action="/users/<%= params[:id] %>/appointments/<%= params[:appt_id] %>/edit" method="post">
  <input type="hidden" name="_method" value="put">

  <!-- Room dropdown -->
  <label for="room">Room</label><br>
  <!-- look into view helpers  --> 
  <select id="room" name="room">
    <% cur_room = Room.find(@appt.room_id).name %>
    <option value="<%= cur_room %>"><%= cur_room %></option>
    <% @rooms.each do |room| %>
    <option value="<%= room.name %>"><%= room.name %></option>
    <% end %>
  </select>

  <!-- Link to Rooms Schedule -->
  <!-- ZM: Do not put IDs in just for the sake of IDS -->
  <a href="/users/:id/rooms"  target="_blank">See Schedule</a><br>

  <!-- Date  -->
  <label for="date">Date</label><br>
  <input id="date" type="date" name="date" placeholder="<%= @appt.start_datetime.to_date %>"/><br>

  <!-- Start time -->
  <label for="start">Start Time</label><br>
  <input type="time" name="start_datetime"/><br>

  <!-- End time -->
  <label for="end">End Time</label><br>
  <input type="time" name="end_datetime"/><br>

  <!-- Group dropdown -->
  <label for="group">Group</label><br>
  <select id="group" name="group">
    <% cur_group = Group.find(@appt.group_id).name %>
    <option value="<%= cur_group %>"><%= cur_group %></option>
    <% @groups.each do |group| %>
    <option value="<%= group.name %>"><%= group.name %></option>
    <% end %>
  </select>

  <!-- Link to Create Group -->
  <a href="/users/:id/groups/new">Create Group</a><br>

  <!-- Submit Form -->
  <button class="label label-danger" type="submit">Update Appointment</button>
</form>
